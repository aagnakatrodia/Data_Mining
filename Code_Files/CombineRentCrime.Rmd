---
title: "Combine Rent and Crime Dataset"
output: rmarkdown::github_document

---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


<p>This is a file to combine the rent and the crime dataset together. <br>The Data source for the rent dataset for the city of LA can be found here: https://usc.data.socrata.com/Los-Angeles/Rent-Price-LA-/4a97-v5tx <br> The crime dataset can be found here: https://data.lacity.org/A-Safe-City/Crime-Data-from-2010-to-Present/y8tr-7khq <br> As described in the file to find tract numbers, the crime dataset is modified to add the tract numbers based on the latitudes and longitudes. Both, the crime and rent dataset for the city of LA are merged on the basis of the tract column.</p>

```{r CombineFiles}
library(dplyr)
library(readr)
library(rmarkdown)

#Read the complete Crime Dataset (With Tract Numbers)
dfFullData <- read.csv("~/Desktop/GitAdd/Data_Mining/Files/FullCrimeDataWTract.csv")

#Change Column Name to make it similar to Rent Data
names(dfFullData)[17]<-"Tract"
names(dfFullData)[21]<-"Year"
dfFullData<-within(dfFullData, rm("No"))
dfFullData<-within(dfFullData, rm("Address"))
dfFullData<-within(dfFullData, rm("DateReported"))
dfFullData<-within(dfFullData, rm("MOCodes"))
dfFullData<-within(dfFullData, rm("StatusCode"))
dfFullData<-within(dfFullData, rm("StatusDescription"))
head(dfFullData)

#Read Rent Dataset
rentLA <- read.csv("~/Desktop/GitAdd/Data_Mining/Files/Rent.csv")
names(rentLA)[4]<-"Tract"
head(rentLA)

#Merge Rent & Crime data by Tract Number
mergedf <- merge(dfFullData, rentLA, by= c("Tract", "Year"))
head(mergedf)

#Write Rent Data to .csv file
write.csv(mergedf, "~/Desktop/GitAdd/Data_Mining/Files/Outputs/CrimeRentData.csv")


```
